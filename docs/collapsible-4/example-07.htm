<html><head>
<style>
[cbc] {
	white-space : nowrap ;
	margin-top : 3px;
	margin-bottom : 3px ;
	font-weight : normal ;
	}
  
[cbc]+* {
	max-height: 0;
	overflow: hidden;
	transition: max-height 0.6s ease-out;
	background-color : #E0E0E0;
	}

[cbc][expand]+* {
	max-height : none ;
	}
	
[cbc]>span {
	display : inline-block ;
	width : 20px ;
	line-height : 100% ;
	background-image : url(orange-plus-0.svg) ;
	background-repeat : no-repeat ;
	background-size : contain ;
	background-position : center ;
	margin-right : 10px ;
	}
	
[cbc][expand]>span {
	background-image : url(orange-minus-0.svg) ;
	}
</style>
</head><body>
<h1 cbc>Click on this to expand/collapse the content block</h1><div><p>Content</p></div>
<h2 cbc expand>Click on this to expand/collapse the content block</h2><div><p>Content</p></div>
<h3 cbc>Click on this to expand/collapse the content block</h3><div>
content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content content
</div>
<h4 cbc>Click on this to expand/collapse the content block</h4><div><p>Content</p></div>
<h5 cbc>Click on this to expand/collapse the content block</h5><div><p>Content</p></div>
<h6 cbc>Click on this to expand/collapse the content block</h6><div><p>Content</p></div>

<script type="module">
const controllers = document.querySelectorAll( "[cbc]" );
for ( let i = 0; i < controllers.length; i++ ) {
	const controller = controllers[ i ];
	controller.insertBefore( document.createElement( "span" ), controller.firstChild ).innerHTML = "&nbsp;" ;
	controller.addEventListener( "click", function ( ) {
		// Click event handler
		const expanding = this.toggleAttribute( "expand" );
		const block = this.nextElementSibling;
		if ( expanding ) block.style.maxHeight = block.scrollHeight + "px";
		else {
			block.style.maxHeight = block.scrollHeight + "px" ;
			window.requestAnimationFrame( function ( ) { 
				block.style.maxHeight = "0px" ;
				} ) ; } } ) ;
	controller.nextElementSibling.addEventListener( "transitionend", function ( ) { 
		// Remove max height limitation if block was expanded
		if ( this.style.maxHeight !== "0px" ) this.style.maxHeight = "none" ;
		} ) ; }
</script>
</body></html>